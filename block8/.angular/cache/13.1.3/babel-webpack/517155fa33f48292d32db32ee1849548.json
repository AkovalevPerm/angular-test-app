{"ast":null,"code":"import { RouterOutlet } from '@angular/router';\nimport { bufferCount, combineLatest, debounceTime, distinctUntilChanged, from, fromEvent, map, startWith, Subject, switchMap, takeUntil, toArray } from 'rxjs';\nimport { NewsFilter } from 'src/model/NewsFilter';\nimport { NewsBlockComponent } from './news-block/news-block.component';\nimport { select } from '@ngrx/store';\nimport * as fromStore from '../../../store';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../service/news.service\";\nimport * as i2 from \"@ngrx/store\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"./news-type-filter/news-type-filter.component\";\nimport * as i5 from \"../../../Directives/check-access.directive\";\nimport * as i6 from \"@angular/common\";\nimport * as i7 from \"./news-context-menu/news-context-menu.component\";\nimport * as i8 from \"./news-block/news-block.component\";\nconst _c0 = [\"contextMenu\"];\nconst _c1 = [\"newsFilter\"];\n\nfunction NewsListComponent_button_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function NewsListComponent_button_9_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return ctx_r4.onDeleteAllSelectedNews();\n    });\n    i0.ɵɵtext(1, \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"disabled\", !ctx_r1.enableDeleteButton);\n  }\n}\n\nfunction NewsListComponent_div_12_app_news_block_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"app-news-block\", 14);\n    i0.ɵɵlistener(\"deleteNews\", function NewsListComponent_div_12_app_news_block_1_Template_app_news_block_deleteNews_0_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r9 = i0.ɵɵnextContext(2);\n      return ctx_r9.onDeleteNews($event);\n    })(\"selectedNews\", function NewsListComponent_div_12_app_news_block_1_Template_app_news_block_selectedNews_0_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r11 = i0.ɵɵnextContext(2);\n      return ctx_r11.onSelectedNews($event);\n    });\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const newsItem_r8 = ctx.$implicit;\n    i0.ɵɵproperty(\"currentNews\", newsItem_r8);\n  }\n}\n\nfunction NewsListComponent_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 12);\n    i0.ɵɵlistener(\"contextmenu\", function NewsListComponent_div_12_Template_div_contextmenu_0_listener($event) {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return ctx_r12.onRightClick($event);\n    });\n    i0.ɵɵtemplate(1, NewsListComponent_div_12_app_news_block_1_Template, 1, 1, \"app-news-block\", 13);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const row_r6 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", row_r6);\n  }\n}\n\nexport class NewsListComponent {\n  constructor(newsService, store, cd, route, router) {\n    this.newsService = newsService;\n    this.store = store;\n    this.cd = cd;\n    this.route = route;\n    this.router = router;\n    this.newsArray = [];\n    this.enableDeleteButton = false;\n  }\n\n  ngOnInit() {\n    this.unsubscriptionSubj = new Subject();\n  }\n\n  ngAfterViewInit() {\n    let newsTypeFilter$ = this.route.queryParams.pipe(map(paramObj => paramObj['type']));\n    let searchTextFilter$ = fromEvent(this.newsFilter.nativeElement, 'keyup').pipe(debounceTime(600), map(event => event.target.value), startWith(''), distinctUntilChanged());\n    combineLatest([searchTextFilter$, newsTypeFilter$]).pipe(map(([searchFilter, typeFilter]) => new NewsFilter(searchFilter, typeFilter)), switchMap(filter => this.newsService.getNewsList(filter)), switchMap(value => {\n      return from(value).pipe(bufferCount(3), toArray());\n    }), takeUntil(this.unsubscriptionSubj)).subscribe({\n      next: data => this.store.dispatch(new fromStore.LoadNewsSuccess(data))\n      /*this.setNewsData(data)*/\n      ,\n      error: error => console.log(error.status + ' ' + error.message)\n    });\n    this.newsArray$ = this.store.pipe(select(state => state.newsObjects.news));\n    this.newsCount$ = this.store.pipe(select(state => state.newsObjects.news.length));\n  }\n\n  setNewsData(data) {\n    this.newsArray = data;\n    this.childrenComponents.forEach(x => x.onCheckboxChange(false));\n    this.cd.markForCheck();\n  }\n\n  onDeleteNews(news) {\n    this.newsService.deleteNews(news);\n  }\n\n  onAddNews() {\n    this.router.navigate([{\n      outlets: {\n        editForm: ['add']\n      }\n    }], {\n      relativeTo: this.route,\n      queryParamsHandling: 'merge'\n    });\n  }\n\n  onSaveNews(news) {\n    this.newsService.addNews(news);\n  }\n\n  ngDoCheck() {\n    console.log('app-news-list');\n  }\n\n  onRightClick(event) {\n    event.preventDefault();\n    this.newsContextMenu.showMenu(event);\n  }\n\n  onSelectAllNews() {\n    this.childrenComponents.forEach(x => x.onCheckboxChange(true));\n    this.newsContextMenu.closeMenu();\n  }\n\n  onSelectedNews(news) {\n    var items = this.childrenComponents.find(x => x.checkBoxState);\n\n    if (items) {\n      this.enableDeleteButton = true;\n    } else {\n      this.enableDeleteButton = false;\n    }\n  }\n\n  onDeleteAllSelectedNews() {\n    var components = this.childrenComponents.filter(x => x.checkBoxState);\n    components.forEach(component => {\n      component.onDeleteNew();\n    });\n    this.enableDeleteButton = false;\n  }\n\n  ngOnDestroy() {\n    this.unsubscriptionSubj.next();\n    this.unsubscriptionSubj.complete();\n  }\n\n}\n\nNewsListComponent.ɵfac = function NewsListComponent_Factory(t) {\n  return new (t || NewsListComponent)(i0.ɵɵdirectiveInject(i1.NewsService), i0.ɵɵdirectiveInject(i2.Store), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(i3.ActivatedRoute), i0.ɵɵdirectiveInject(i3.Router));\n};\n\nNewsListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: NewsListComponent,\n  selectors: [[\"app-news-list\"]],\n  viewQuery: function NewsListComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(RouterOutlet, 5);\n      i0.ɵɵviewQuery(_c0, 5);\n      i0.ɵɵviewQuery(_c1, 5);\n      i0.ɵɵviewQuery(NewsBlockComponent, 5);\n    }\n\n    if (rf & 2) {\n      let _t;\n\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.outlet = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.newsContextMenu = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.newsFilter = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.childrenComponents = _t);\n    }\n  },\n  decls: 18,\n  vars: 4,\n  consts: [[1, \"title_header\"], [1, \"news_content\"], [\"placeholder\", \"\\u041F\\u043E\\u0438\\u0441\\u043A\", \"type\", \"text\", 1, \"input-filter-textbox\"], [\"newsFilter\", \"\"], [1, \"control-button\", 3, \"click\"], [\"class\", \"control-button\", 3, \"disabled\", \"click\", 4, \"appCheckAccess\"], [\"name\", \"editForm\"], [2, \"display\", \"table\"], [\"class\", \"news-block\", 3, \"contextmenu\", 4, \"ngFor\", \"ngForOf\"], [\"contextMenu\", \"\"], [1, \"contextMenuButton\", 3, \"click\"], [1, \"control-button\", 3, \"disabled\", \"click\"], [1, \"news-block\", 3, \"contextmenu\"], [3, \"currentNews\", \"deleteNews\", \"selectedNews\", 4, \"ngFor\", \"ngForOf\"], [3, \"currentNews\", \"deleteNews\", \"selectedNews\"]],\n  template: function NewsListComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"p\", 0);\n      i0.ɵɵtext(1, \"\\u0421\\u043F\\u0438\\u0441\\u043E\\u043A \\u043D\\u043E\\u0432\\u043E\\u0441\\u0442\\u0435\\u0439\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(2, \"app-news-type-filter\");\n      i0.ɵɵelementStart(3, \"div\", 1);\n      i0.ɵɵelementStart(4, \"div\");\n      i0.ɵɵelement(5, \"input\", 2, 3);\n      i0.ɵɵelementStart(7, \"button\", 4);\n      i0.ɵɵlistener(\"click\", function NewsListComponent_Template_button_click_7_listener() {\n        return ctx.onAddNews();\n      });\n      i0.ɵɵtext(8, \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(9, NewsListComponent_button_9_Template, 2, 1, \"button\", 5);\n      i0.ɵɵelement(10, \"router-outlet\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"div\", 7);\n      i0.ɵɵtemplate(12, NewsListComponent_div_12_Template, 2, 1, \"div\", 8);\n      i0.ɵɵpipe(13, \"async\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"app-news-context-menu\", null, 9);\n      i0.ɵɵelementStart(16, \"button\", 10);\n      i0.ɵɵlistener(\"click\", function NewsListComponent_Template_button_click_16_listener() {\n        return ctx.onSelectAllNews();\n      });\n      i0.ɵɵtext(17, \"\\u041E\\u0442\\u043C\\u0435\\u0442\\u0438\\u0442\\u044C \\u0432\\u0441\\u0451\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"appCheckAccess\", \"Delete\");\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(13, 2, ctx.newsArray$));\n    }\n  },\n  directives: [i4.NewsTypeFilterComponent, i5.CheckAccessDirective, i3.RouterOutlet, i6.NgForOf, i7.NewsContextMenuComponent, i8.NewsBlockComponent],\n  pipes: [i6.AsyncPipe],\n  styles: [\".control-button[_ngcontent-%COMP%] {\\r\\n    margin-left: 10px;\\r\\n    background-color: darkblue;\\r\\n    color: white;\\r\\n    height: 30px;\\r\\n    width: 100px;\\r\\n    text-align: center;\\r\\n}\\r\\n\\r\\n.news-block[_ngcontent-%COMP%]:after {\\r\\n    margin-right: 60px;\\r\\n    display: table-column;\\r\\n    clear: both;\\r\\n    content: \\\"\\\";\\r\\n}\\r\\n\\r\\n.input-filter-textbox[_ngcontent-%COMP%] {\\r\\n    width: calc(100% - 30px);\\r\\n    margin-left: 10px;\\r\\n    margin-bottom: 10px;\\r\\n    text-align: left;\\r\\n    height: 30px;\\r\\n    font: 1.6em \\\"Fira Sans\\\"\\r\\n}\\r\\n\\r\\n.news_content[_ngcontent-%COMP%] {\\r\\n    width: auto;\\r\\n    height: 88%;\\r\\n    position: absolute;\\r\\n    overflow: auto;\\r\\n    display: inline-block;\\r\\n}\\r\\n\\r\\n.title_header[_ngcontent-%COMP%] {\\r\\n    font: italic 2.0em \\\"Fira Sans\\\";\\r\\n    margin-top: 0px;\\r\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5ld3MtbGlzdC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksaUJBQWlCO0lBQ2pCLDBCQUEwQjtJQUMxQixZQUFZO0lBQ1osWUFBWTtJQUNaLFlBQVk7SUFDWixrQkFBa0I7QUFDdEI7O0FBRUE7SUFDSSxrQkFBa0I7SUFDbEIscUJBQXFCO0lBQ3JCLFdBQVc7SUFDWCxXQUFXO0FBQ2Y7O0FBRUE7SUFDSSx3QkFBd0I7SUFDeEIsaUJBQWlCO0lBQ2pCLG1CQUFtQjtJQUNuQixnQkFBZ0I7SUFDaEIsWUFBWTtJQUNaO0FBQ0o7O0FBRUE7SUFDSSxXQUFXO0lBQ1gsV0FBVztJQUNYLGtCQUFrQjtJQUNsQixjQUFjO0lBQ2QscUJBQXFCO0FBQ3pCOztBQUVBO0lBQ0ksOEJBQThCO0lBQzlCLGVBQWU7QUFDbkIiLCJmaWxlIjoibmV3cy1saXN0LmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuY29udHJvbC1idXR0b24ge1xyXG4gICAgbWFyZ2luLWxlZnQ6IDEwcHg7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBkYXJrYmx1ZTtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIGhlaWdodDogMzBweDtcclxuICAgIHdpZHRoOiAxMDBweDtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxufVxyXG5cclxuLm5ld3MtYmxvY2s6YWZ0ZXIge1xyXG4gICAgbWFyZ2luLXJpZ2h0OiA2MHB4O1xyXG4gICAgZGlzcGxheTogdGFibGUtY29sdW1uO1xyXG4gICAgY2xlYXI6IGJvdGg7XHJcbiAgICBjb250ZW50OiBcIlwiO1xyXG59XHJcblxyXG4uaW5wdXQtZmlsdGVyLXRleHRib3gge1xyXG4gICAgd2lkdGg6IGNhbGMoMTAwJSAtIDMwcHgpO1xyXG4gICAgbWFyZ2luLWxlZnQ6IDEwcHg7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xyXG4gICAgdGV4dC1hbGlnbjogbGVmdDtcclxuICAgIGhlaWdodDogMzBweDtcclxuICAgIGZvbnQ6IDEuNmVtIFwiRmlyYSBTYW5zXCJcclxufVxyXG5cclxuLm5ld3NfY29udGVudCB7XHJcbiAgICB3aWR0aDogYXV0bztcclxuICAgIGhlaWdodDogODglO1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgb3ZlcmZsb3c6IGF1dG87XHJcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbn1cclxuXHJcbi50aXRsZV9oZWFkZXIge1xyXG4gICAgZm9udDogaXRhbGljIDIuMGVtIFwiRmlyYSBTYW5zXCI7XHJcbiAgICBtYXJnaW4tdG9wOiAwcHg7XHJcbn0iXX0= */\"],\n  changeDetection: 0\n});","map":{"version":3,"sources":["C:/Users/alexk/source/repos/parma-angular-course/block8/src/app/PageComponent/main-menu-page/news-list/news-list.component.ts"],"names":["RouterOutlet","bufferCount","combineLatest","debounceTime","distinctUntilChanged","from","fromEvent","map","startWith","Subject","switchMap","takeUntil","toArray","NewsFilter","NewsBlockComponent","select","fromStore","i0","i1","i2","i3","i4","i5","i6","i7","i8","_c0","_c1","NewsListComponent_button_9_Template","rf","ctx","_r5","ɵɵgetCurrentView","ɵɵelementStart","ɵɵlistener","NewsListComponent_button_9_Template_button_click_0_listener","ɵɵrestoreView","ctx_r4","ɵɵnextContext","onDeleteAllSelectedNews","ɵɵtext","ɵɵelementEnd","ctx_r1","ɵɵproperty","enableDeleteButton","NewsListComponent_div_12_app_news_block_1_Template","_r10","NewsListComponent_div_12_app_news_block_1_Template_app_news_block_deleteNews_0_listener","$event","ctx_r9","onDeleteNews","NewsListComponent_div_12_app_news_block_1_Template_app_news_block_selectedNews_0_listener","ctx_r11","onSelectedNews","newsItem_r8","$implicit","NewsListComponent_div_12_Template","_r13","NewsListComponent_div_12_Template_div_contextmenu_0_listener","ctx_r12","onRightClick","ɵɵtemplate","row_r6","ɵɵadvance","NewsListComponent","constructor","newsService","store","cd","route","router","newsArray","ngOnInit","unsubscriptionSubj","ngAfterViewInit","newsTypeFilter$","queryParams","pipe","paramObj","searchTextFilter$","newsFilter","nativeElement","event","target","value","searchFilter","typeFilter","filter","getNewsList","subscribe","next","data","dispatch","LoadNewsSuccess","error","console","log","status","message","newsArray$","state","newsObjects","news","newsCount$","length","setNewsData","childrenComponents","forEach","x","onCheckboxChange","markForCheck","deleteNews","onAddNews","navigate","outlets","editForm","relativeTo","queryParamsHandling","onSaveNews","addNews","ngDoCheck","preventDefault","newsContextMenu","showMenu","onSelectAllNews","closeMenu","items","find","checkBoxState","components","component","onDeleteNew","ngOnDestroy","complete","ɵfac","NewsListComponent_Factory","t","ɵɵdirectiveInject","NewsService","Store","ChangeDetectorRef","ActivatedRoute","Router","ɵcmp","ɵɵdefineComponent","type","selectors","viewQuery","NewsListComponent_Query","ɵɵviewQuery","_t","ɵɵqueryRefresh","ɵɵloadQuery","outlet","first","decls","vars","consts","template","NewsListComponent_Template","ɵɵelement","NewsListComponent_Template_button_click_7_listener","ɵɵpipe","NewsListComponent_Template_button_click_16_listener","ɵɵpipeBind1","directives","NewsTypeFilterComponent","CheckAccessDirective","NgForOf","NewsContextMenuComponent","pipes","AsyncPipe","styles","changeDetection"],"mappings":"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","sourcesContent":["import { RouterOutlet } from '@angular/router';\r\nimport { bufferCount, combineLatest, debounceTime, distinctUntilChanged, from, fromEvent, map, startWith, Subject, switchMap, takeUntil, toArray } from 'rxjs';\r\nimport { NewsFilter } from 'src/model/NewsFilter';\r\nimport { NewsBlockComponent } from './news-block/news-block.component';\r\nimport { select } from '@ngrx/store';\r\nimport * as fromStore from '../../../store';\r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"../../../service/news.service\";\r\nimport * as i2 from \"@ngrx/store\";\r\nimport * as i3 from \"@angular/router\";\r\nimport * as i4 from \"./news-type-filter/news-type-filter.component\";\r\nimport * as i5 from \"../../../Directives/check-access.directive\";\r\nimport * as i6 from \"@angular/common\";\r\nimport * as i7 from \"./news-context-menu/news-context-menu.component\";\r\nimport * as i8 from \"./news-block/news-block.component\";\r\nconst _c0 = [\"contextMenu\"];\r\nconst _c1 = [\"newsFilter\"];\r\nfunction NewsListComponent_button_9_Template(rf, ctx) { if (rf & 1) {\r\n    const _r5 = i0.ɵɵgetCurrentView();\r\n    i0.ɵɵelementStart(0, \"button\", 11);\r\n    i0.ɵɵlistener(\"click\", function NewsListComponent_button_9_Template_button_click_0_listener() { i0.ɵɵrestoreView(_r5); const ctx_r4 = i0.ɵɵnextContext(); return ctx_r4.onDeleteAllSelectedNews(); });\r\n    i0.ɵɵtext(1, \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\");\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const ctx_r1 = i0.ɵɵnextContext();\r\n    i0.ɵɵproperty(\"disabled\", !ctx_r1.enableDeleteButton);\r\n} }\r\nfunction NewsListComponent_div_12_app_news_block_1_Template(rf, ctx) { if (rf & 1) {\r\n    const _r10 = i0.ɵɵgetCurrentView();\r\n    i0.ɵɵelementStart(0, \"app-news-block\", 14);\r\n    i0.ɵɵlistener(\"deleteNews\", function NewsListComponent_div_12_app_news_block_1_Template_app_news_block_deleteNews_0_listener($event) { i0.ɵɵrestoreView(_r10); const ctx_r9 = i0.ɵɵnextContext(2); return ctx_r9.onDeleteNews($event); })(\"selectedNews\", function NewsListComponent_div_12_app_news_block_1_Template_app_news_block_selectedNews_0_listener($event) { i0.ɵɵrestoreView(_r10); const ctx_r11 = i0.ɵɵnextContext(2); return ctx_r11.onSelectedNews($event); });\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const newsItem_r8 = ctx.$implicit;\r\n    i0.ɵɵproperty(\"currentNews\", newsItem_r8);\r\n} }\r\nfunction NewsListComponent_div_12_Template(rf, ctx) { if (rf & 1) {\r\n    const _r13 = i0.ɵɵgetCurrentView();\r\n    i0.ɵɵelementStart(0, \"div\", 12);\r\n    i0.ɵɵlistener(\"contextmenu\", function NewsListComponent_div_12_Template_div_contextmenu_0_listener($event) { i0.ɵɵrestoreView(_r13); const ctx_r12 = i0.ɵɵnextContext(); return ctx_r12.onRightClick($event); });\r\n    i0.ɵɵtemplate(1, NewsListComponent_div_12_app_news_block_1_Template, 1, 1, \"app-news-block\", 13);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const row_r6 = ctx.$implicit;\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"ngForOf\", row_r6);\r\n} }\r\nexport class NewsListComponent {\r\n    constructor(newsService, store, cd, route, router) {\r\n        this.newsService = newsService;\r\n        this.store = store;\r\n        this.cd = cd;\r\n        this.route = route;\r\n        this.router = router;\r\n        this.newsArray = [];\r\n        this.enableDeleteButton = false;\r\n    }\r\n    ngOnInit() {\r\n        this.unsubscriptionSubj = new Subject();\r\n    }\r\n    ngAfterViewInit() {\r\n        let newsTypeFilter$ = this.route.queryParams\r\n            .pipe(map(paramObj => paramObj['type']));\r\n        let searchTextFilter$ = fromEvent(this.newsFilter.nativeElement, 'keyup')\r\n            .pipe(debounceTime(600), map(event => event.target.value), startWith(''), distinctUntilChanged());\r\n        combineLatest([searchTextFilter$,\r\n            newsTypeFilter$]).pipe(map(([searchFilter, typeFilter]) => new NewsFilter(searchFilter, typeFilter)), switchMap(filter => this.newsService.getNewsList(filter)), switchMap(value => {\r\n            return from(value).pipe(bufferCount(3), toArray());\r\n        }), takeUntil(this.unsubscriptionSubj))\r\n            .subscribe({\r\n            next: (data) => this.store.dispatch(new fromStore.LoadNewsSuccess(data)) /*this.setNewsData(data)*/,\r\n            error: (error) => console.log(error.status + ' ' + error.message)\r\n        });\r\n        this.newsArray$ = this.store.pipe(select(state => state.newsObjects.news));\r\n        this.newsCount$ = this.store.pipe(select(state => state.newsObjects.news.length));\r\n    }\r\n    setNewsData(data) {\r\n        this.newsArray = data;\r\n        this.childrenComponents.forEach(x => x.onCheckboxChange(false));\r\n        this.cd.markForCheck();\r\n    }\r\n    onDeleteNews(news) {\r\n        this.newsService.deleteNews(news);\r\n    }\r\n    onAddNews() {\r\n        this.router.navigate([{ outlets: { editForm: ['add'] } }], { relativeTo: this.route, queryParamsHandling: 'merge' });\r\n    }\r\n    onSaveNews(news) {\r\n        this.newsService.addNews(news);\r\n    }\r\n    ngDoCheck() {\r\n        console.log('app-news-list');\r\n    }\r\n    onRightClick(event) {\r\n        event.preventDefault();\r\n        this.newsContextMenu.showMenu(event);\r\n    }\r\n    onSelectAllNews() {\r\n        this.childrenComponents.forEach(x => x.onCheckboxChange(true));\r\n        this.newsContextMenu.closeMenu();\r\n    }\r\n    onSelectedNews(news) {\r\n        var items = this.childrenComponents.find(x => x.checkBoxState);\r\n        if (items) {\r\n            this.enableDeleteButton = true;\r\n        }\r\n        else {\r\n            this.enableDeleteButton = false;\r\n        }\r\n    }\r\n    onDeleteAllSelectedNews() {\r\n        var components = this.childrenComponents.filter(x => x.checkBoxState);\r\n        components.forEach(component => {\r\n            component.onDeleteNew();\r\n        });\r\n        this.enableDeleteButton = false;\r\n    }\r\n    ngOnDestroy() {\r\n        this.unsubscriptionSubj.next();\r\n        this.unsubscriptionSubj.complete();\r\n    }\r\n}\r\nNewsListComponent.ɵfac = function NewsListComponent_Factory(t) { return new (t || NewsListComponent)(i0.ɵɵdirectiveInject(i1.NewsService), i0.ɵɵdirectiveInject(i2.Store), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(i3.ActivatedRoute), i0.ɵɵdirectiveInject(i3.Router)); };\r\nNewsListComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: NewsListComponent, selectors: [[\"app-news-list\"]], viewQuery: function NewsListComponent_Query(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵviewQuery(RouterOutlet, 5);\r\n        i0.ɵɵviewQuery(_c0, 5);\r\n        i0.ɵɵviewQuery(_c1, 5);\r\n        i0.ɵɵviewQuery(NewsBlockComponent, 5);\r\n    } if (rf & 2) {\r\n        let _t;\r\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.outlet = _t.first);\r\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.newsContextMenu = _t.first);\r\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.newsFilter = _t.first);\r\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.childrenComponents = _t);\r\n    } }, decls: 18, vars: 4, consts: [[1, \"title_header\"], [1, \"news_content\"], [\"placeholder\", \"\\u041F\\u043E\\u0438\\u0441\\u043A\", \"type\", \"text\", 1, \"input-filter-textbox\"], [\"newsFilter\", \"\"], [1, \"control-button\", 3, \"click\"], [\"class\", \"control-button\", 3, \"disabled\", \"click\", 4, \"appCheckAccess\"], [\"name\", \"editForm\"], [2, \"display\", \"table\"], [\"class\", \"news-block\", 3, \"contextmenu\", 4, \"ngFor\", \"ngForOf\"], [\"contextMenu\", \"\"], [1, \"contextMenuButton\", 3, \"click\"], [1, \"control-button\", 3, \"disabled\", \"click\"], [1, \"news-block\", 3, \"contextmenu\"], [3, \"currentNews\", \"deleteNews\", \"selectedNews\", 4, \"ngFor\", \"ngForOf\"], [3, \"currentNews\", \"deleteNews\", \"selectedNews\"]], template: function NewsListComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"p\", 0);\r\n        i0.ɵɵtext(1, \"\\u0421\\u043F\\u0438\\u0441\\u043E\\u043A \\u043D\\u043E\\u0432\\u043E\\u0441\\u0442\\u0435\\u0439\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelement(2, \"app-news-type-filter\");\r\n        i0.ɵɵelementStart(3, \"div\", 1);\r\n        i0.ɵɵelementStart(4, \"div\");\r\n        i0.ɵɵelement(5, \"input\", 2, 3);\r\n        i0.ɵɵelementStart(7, \"button\", 4);\r\n        i0.ɵɵlistener(\"click\", function NewsListComponent_Template_button_click_7_listener() { return ctx.onAddNews(); });\r\n        i0.ɵɵtext(8, \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵtemplate(9, NewsListComponent_button_9_Template, 2, 1, \"button\", 5);\r\n        i0.ɵɵelement(10, \"router-outlet\", 6);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(11, \"div\", 7);\r\n        i0.ɵɵtemplate(12, NewsListComponent_div_12_Template, 2, 1, \"div\", 8);\r\n        i0.ɵɵpipe(13, \"async\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(14, \"app-news-context-menu\", null, 9);\r\n        i0.ɵɵelementStart(16, \"button\", 10);\r\n        i0.ɵɵlistener(\"click\", function NewsListComponent_Template_button_click_16_listener() { return ctx.onSelectAllNews(); });\r\n        i0.ɵɵtext(17, \"\\u041E\\u0442\\u043C\\u0435\\u0442\\u0438\\u0442\\u044C \\u0432\\u0441\\u0451\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n    } if (rf & 2) {\r\n        i0.ɵɵadvance(9);\r\n        i0.ɵɵproperty(\"appCheckAccess\", \"Delete\");\r\n        i0.ɵɵadvance(3);\r\n        i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(13, 2, ctx.newsArray$));\r\n    } }, directives: [i4.NewsTypeFilterComponent, i5.CheckAccessDirective, i3.RouterOutlet, i6.NgForOf, i7.NewsContextMenuComponent, i8.NewsBlockComponent], pipes: [i6.AsyncPipe], styles: [\".control-button[_ngcontent-%COMP%] {\\r\\n    margin-left: 10px;\\r\\n    background-color: darkblue;\\r\\n    color: white;\\r\\n    height: 30px;\\r\\n    width: 100px;\\r\\n    text-align: center;\\r\\n}\\r\\n\\r\\n.news-block[_ngcontent-%COMP%]:after {\\r\\n    margin-right: 60px;\\r\\n    display: table-column;\\r\\n    clear: both;\\r\\n    content: \\\"\\\";\\r\\n}\\r\\n\\r\\n.input-filter-textbox[_ngcontent-%COMP%] {\\r\\n    width: calc(100% - 30px);\\r\\n    margin-left: 10px;\\r\\n    margin-bottom: 10px;\\r\\n    text-align: left;\\r\\n    height: 30px;\\r\\n    font: 1.6em \\\"Fira Sans\\\"\\r\\n}\\r\\n\\r\\n.news_content[_ngcontent-%COMP%] {\\r\\n    width: auto;\\r\\n    height: 88%;\\r\\n    position: absolute;\\r\\n    overflow: auto;\\r\\n    display: inline-block;\\r\\n}\\r\\n\\r\\n.title_header[_ngcontent-%COMP%] {\\r\\n    font: italic 2.0em \\\"Fira Sans\\\";\\r\\n    margin-top: 0px;\\r\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5ld3MtbGlzdC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksaUJBQWlCO0lBQ2pCLDBCQUEwQjtJQUMxQixZQUFZO0lBQ1osWUFBWTtJQUNaLFlBQVk7SUFDWixrQkFBa0I7QUFDdEI7O0FBRUE7SUFDSSxrQkFBa0I7SUFDbEIscUJBQXFCO0lBQ3JCLFdBQVc7SUFDWCxXQUFXO0FBQ2Y7O0FBRUE7SUFDSSx3QkFBd0I7SUFDeEIsaUJBQWlCO0lBQ2pCLG1CQUFtQjtJQUNuQixnQkFBZ0I7SUFDaEIsWUFBWTtJQUNaO0FBQ0o7O0FBRUE7SUFDSSxXQUFXO0lBQ1gsV0FBVztJQUNYLGtCQUFrQjtJQUNsQixjQUFjO0lBQ2QscUJBQXFCO0FBQ3pCOztBQUVBO0lBQ0ksOEJBQThCO0lBQzlCLGVBQWU7QUFDbkIiLCJmaWxlIjoibmV3cy1saXN0LmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuY29udHJvbC1idXR0b24ge1xyXG4gICAgbWFyZ2luLWxlZnQ6IDEwcHg7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBkYXJrYmx1ZTtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIGhlaWdodDogMzBweDtcclxuICAgIHdpZHRoOiAxMDBweDtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxufVxyXG5cclxuLm5ld3MtYmxvY2s6YWZ0ZXIge1xyXG4gICAgbWFyZ2luLXJpZ2h0OiA2MHB4O1xyXG4gICAgZGlzcGxheTogdGFibGUtY29sdW1uO1xyXG4gICAgY2xlYXI6IGJvdGg7XHJcbiAgICBjb250ZW50OiBcIlwiO1xyXG59XHJcblxyXG4uaW5wdXQtZmlsdGVyLXRleHRib3gge1xyXG4gICAgd2lkdGg6IGNhbGMoMTAwJSAtIDMwcHgpO1xyXG4gICAgbWFyZ2luLWxlZnQ6IDEwcHg7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xyXG4gICAgdGV4dC1hbGlnbjogbGVmdDtcclxuICAgIGhlaWdodDogMzBweDtcclxuICAgIGZvbnQ6IDEuNmVtIFwiRmlyYSBTYW5zXCJcclxufVxyXG5cclxuLm5ld3NfY29udGVudCB7XHJcbiAgICB3aWR0aDogYXV0bztcclxuICAgIGhlaWdodDogODglO1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgb3ZlcmZsb3c6IGF1dG87XHJcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbn1cclxuXHJcbi50aXRsZV9oZWFkZXIge1xyXG4gICAgZm9udDogaXRhbGljIDIuMGVtIFwiRmlyYSBTYW5zXCI7XHJcbiAgICBtYXJnaW4tdG9wOiAwcHg7XHJcbn0iXX0= */\"], changeDetection: 0 });\r\n"]},"metadata":{},"sourceType":"module"}